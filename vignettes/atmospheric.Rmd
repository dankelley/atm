---
title: "Introduction to the atmospheric Package"
author: "Dan Kelley (https://orcid.org/0000-0001-7808-5911)"
date: "`r Sys.Date()`"
output:
  rmarkdown::html_vignette:
    toc: true
    number_sections: true
    fig_caption: yes
    fig_width: 7
    fig_height: 7
    dpi: 72
    dev.args: list(pointsize=11)
vignette: >
  %\VignetteIndexEntry{Introduction to the atmospheric Package}
  %\VignetteEncoding{UTF-8}
  %\VignetteEngine{knitr::rmarkdown}
editor_options:
  markdown:
    wrap: 72
---


```{r, echo = FALSE}
knitr::opts_chunk$set(collapse = TRUE, comment = "#>")
```

**Abstract.** This shows how to plot a recent atmospheric sounding at the
default location, Shearwater, Nova Scotia, Canada.


# Plot a sample sounding for Shearwater, Nova Scotia, Canada.


This example uses a sample data file that is provided in the package, because
otherwise building the vignette can yield an error, if the server (Reference 1)
is unreachable or is too busy to return files.

There are several errors and deficiencies with this graph, including the following.

1. the lines sloping up to the left should be (curved) dry adiabats, but they are erroneously
   straight because they reflect just the near-surface lapse rate
2. wet adiabats should to be added
3. water fraction should be added
4. wind barbs should be added
5. text summaries should be added

```{r, echo = TRUE, fig.width = 5, fig.height = 5, fig.cap = "Skew-T log-P sounding profile at Shearwater, Nova Scotia, Canada, on July 11, 2024. The wider line represents temperature and the  thinner line represents dew point. The curves are skewed to the right; to read values, trace the 45 degree lines down to the horizontal axis."}
library(atmosphere)
file <- system.file("extdata", "Shearwater_2024-07-11.txt.gz", package = "atmosphere")
sounding <- readAtmosphericSounding(file)
plot(sounding)
```

# References

1. <https://weather.uwyo.edu/upperair/sounding.html>
2. <https://weather.uwyo.edu/cgi-bin/sounding?region=naconf&TYPE=TEXT%3ALIST&YEAR=2024&MONTH=07&FROM=1012&TO=1012&STNM=73110>
